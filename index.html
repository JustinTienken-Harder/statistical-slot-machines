<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistical Slot Machines</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <!-- Add Chart.js via CDN instead of local file -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add D3.js via CDN instead of local file -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <header>
        <h1>Statistical Slot Machines</h1>
        <a href="https://yourbloglink.com" target="_blank">Visit my blog</a>
    </header>
    <main>
        <section id="distribution-selection">
            <h2>Configure Slot Machines</h2>
            <h4>Select the distributions for the slot machines.
                If you just want to "play" the game, click one of the premade buttons below for a set of random distributions.
            </h4>
            <div class="form-group">
                <label for="num-machines">Number of Machines (2-8):</label>
                <input type="number" id="num-machines" min="2" max="8" value="3">
            </div>
            
            <!-- Hard Mode Toggle - Fixing the structure to ensure it displays properly -->
            <div class="mode-toggle-container">
                <label class="hard-mode-label">Hard Mode (5% chance of distributions swapping)</label>
                <div class="toggle-switch">
                    <input type="checkbox" id="hard-mode">
                    <label for="hard-mode" class="toggle-slider"></label>
                </div>
            </div>
            
            <div id="machine-configs">
                <!-- Machine configurations will be dynamically generated here -->
            </div>
            
            <div class="button-container">
                <button id="generate-machines" class="primary-button">Generate Slot Machines</button>
                <button id="random-machines" class="secondary-button">Generate Random Machines</button>
            </div>
        </section>
        
        <section id="slot-machines">
            <h2>Slot Machines</h2>
            <div id="machines-container">
                <!-- Slot machines will be dynamically generated here -->
            </div>
        </section>
        
        <section id="payout-chart">
            <h2>Payout Chart</h2>
            <canvas id="chart"></canvas>
        </section>
        
        <section id="regret-section">
            <div class="regret-header">
                <h2>Regret Analysis</h2>
                <button id="toggle-regret-chart" class="toggle-button">Show Regret Chart</button>
            </div>
            <div id="regret-chart-container" class="hidden">
                <canvas id="regret-chart"></canvas>
            </div>
        </section>
    </main>
    
    <!-- Add the missing distribution-select element -->
    <select id="distribution-select" style="display: none;"></select>
    
    <!-- Add the missing submit-button element -->
    <button id="submit-button" style="display: none;"></button>
    
    <script src="js/distributions.js" type="module"></script>
    <script src="js/slotMachine.js" type="module"></script>
    <script src="js/chart.js" type="module"></script>
    <script src="js/optimalStrategy.js" type="module"></script>
    <script src="js/app.js" type="module"></script>
    <script src="js/regretChart.js" type="module"></script>
</body>
</html>